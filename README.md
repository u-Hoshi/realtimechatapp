# Git 運用ルール

## 目的

- Git の使い方を身につける
- お互いのコードを打ち消し合わないような運用にする
- master ブランチ develop ブランチを複数人で編集しない
- 全員がいまなにをやってるのかわかるようにする

## 基本

- master : リリースブランチ
  - 基本的にここにコミットはしない
  - リリース単位で develop のマージコミットが並ぶはず
- develop : 開発ブランチ
  - トピックブランチのマージコミットが並ぶ予定
  - GitHub 側から README をいじった時などここにコミットされる可能性がある
  - 「完全に 1 コミットで終わる編集」 ならばマージしないでコミットしてもいいかな
    - 複数人でコミットしあうことがないように  
      コミュニケーションを取りつつやること
- トピックブランチ
  - feat/xxxxx : 機能（ここにテストまで入れてほしい）
  - test/xxxxx : テストコード（別になってしまった場合）
  - fix/xxXxxx : 不具合修正
  - hotfix/xxx : Highest Priority で直すやつ

（ブランチ名はスネークケースでもキャメルケースでも可）

- スネークケース：Ruby みたいな
  - `fix/delete_log_string`
  - `feat/create_new_map`

## ブランチの切り方

```
master
└develop
 └トピックブランチ
```

- master が最上位
  - develop ブランチのマージコミットが並ぶ
  - ここから切れるブランチは`hotfix`のみ
- develop が主にマージされる
  - トピックブランチのマージコミットが並ぶ（はず）
  - ここからトピックブランチをきる
- トピックブランチでのみ開発する
  - ブランチ名と作業が一致するように
  - 作業が長引くなら 1 日 1 回は push しよう
  - こまめにコミットしよう
    - できれば意味のある単位で
      - 変数名変え：変えた分をまとめて
    - 貯めこむとろくなことがない＆コンフリクトで無駄な工数発生

## develop オペレーション

1. develop を最新にする（pull でも fetch&rebase でも）
2. トピックブランチをチェックアウト
3. develop ブランチを rebase!!!
4. develop の最新から自分のトピックブランチが伸びていることを確認  
   違っていたらなんかおかしいから相談しよう
5. コンフリクトした時はひとりで悩まず誰かを呼んでいっしょに解消 ここで直しておくと merge 時にコンフリクトしないので安心

## コミットメッセージ

- 日本語で OK
- なにをやったのかわかるように
  - ブランチ名でなにをやっているのかが明確ならばざっくりしていても大丈夫
  - OK：Bookmark ボタンを追加・アイコン位置調整
  - NG：no change・pull できない・commit・change posterlist
